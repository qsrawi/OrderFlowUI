<div class="container">
  <h2>Add {{isRecipt? "Receipt" : "Voucher"}}</h2>

  <form [formGroup]="receiptForm" (ngSubmit)="submit()">
    <h4>Cheques</h4>
    <div formArrayName="cheques">
      <div *ngFor="let cheque of cheques.controls; let i = index" [formGroupName]="i" class="card mt-2">
        <div class="card-body">
          <div class="form-group">
            <label for="chequeNumber">Cheque Number</label>
            <input type="number" formControlName="chequeNumber" class="form-control">
          </div>

          <div class="form-group">
            <label for="issueDate">Issue Date</label>
            <input type="date" formControlName="issueDate" class="form-control">
          </div>

          <div class="form-group">
            <label for="dueDate">Due Date</label>
            <input type="date" formControlName="dueDate" class="form-control">
          </div>

          <div class="form-group">
            <label for="amount">Amount</label>
            <input type="number" formControlName="amount" class="form-control">
          </div>

          <div class="form-group">
            <label for="accountNumber">Account Number</label>
            <input type="text" formControlName="accountNumber" class="form-control">
          </div>

          <div class="form-group">
            <label for="bankName">Bank Name</label>
            <select formControlName="bankName" class="form-control">
              <option value="AlArabi Bank">AlArabi Bank</option>
              <option value="Palestine Bank">Palestine Bank</option>
              <option value="Amman Bank">Amman Bank</option>
            </select>
          </div>

          <div class="form-group">
            <label for="currency">Currency</label>
            <input type="text" formControlName="currency" class="form-control">
          </div>

          <div class="form-group">
            <label for="frontImage">Front Image</label>
            <input type="file" (change)="onFileChange($event, i, 'frontImage')" class="form-control">
          </div>

          <div class="form-group">
            <label for="backImage">Back Image</label>
            <input type="file" (change)="onFileChange($event, i, 'backImage')" class="form-control">
          </div>

          <button type="button" class="btn btn-danger" (click)="removeCheque(i)">Remove Cheque</button>
        </div>
      </div>
      <button type="button" class="btn btn-primary mt-2" (click)="addCheque()">Add Cheque</button>
    </div>

    <h4>Cash Details</h4>
    <div formArrayName="cashDetails">
      <div *ngFor="let cash of cashDetails.controls; let i = index" [formGroupName]="i" class="card mt-2">
        <div class="card-body">
          <div class="form-group">
            <label for="number">Number</label>
            <input type="number" formControlName="number" class="form-control">
          </div>

          <div class="form-group">
            <label for="amount">Amount</label>
            <input type="number" formControlName="amount" class="form-control">
          </div>

          <div class="form-group">
            <label for="date">Date</label>
            <input type="date" formControlName="date" class="form-control">
          </div>

          <div class="form-group">
            <label for="currency">Currency</label>
            <input type="text" formControlName="currency" class="form-control">
          </div>

          <button type="button" class="btn btn-danger" (click)="removeCashDetail(i)">Remove Cash Detail</button>
        </div>
      </div>
      <button type="button" class="btn btn-primary mt-2" (click)="addCashDetail()">Add Cash Detail</button>
    </div>

    <div class="total-amount-container">
      <strong class="total-amount-label">Total Amount:</strong> <span class="total-amount-value">{{ totalAmount | currency }}</span>
    </div>

    <button type="submit" class="btn btn-success mt-3">Submit Receipt</button>
  </form>
</div>
